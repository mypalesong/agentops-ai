"use strict";(globalThis.webpackChunkagentops_docs=globalThis.webpackChunkagentops_docs||[]).push([[2181],{5011(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"core-concepts/agents","title":"Agents","description":"Track and monitor AI agents with AgentOps","source":"@site/docs/core-concepts/agents.md","sourceDirName":"core-concepts","slug":"/core-concepts/agents","permalink":"/agentops-ai/docs/core-concepts/agents","draft":false,"unlisted":false,"editUrl":"https://github.com/agentops/agentops-docs/tree/main/docs/core-concepts/agents.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Agents","description":"Track and monitor AI agents with AgentOps"},"sidebar":"docsSidebar","previous":{"title":"Events","permalink":"/agentops-ai/docs/core-concepts/events"},"next":{"title":"Tools","permalink":"/agentops-ai/docs/core-concepts/tools"}}');var s=t(4848),r=t(8453);const i={sidebar_position:5,title:"Agents",description:"Track and monitor AI agents with AgentOps"},o="Agents",c={},l=[{value:"What is an Agent?",id:"what-is-an-agent",level:2},{value:"Tracking Agents",id:"tracking-agents",level:2},{value:"Using the @track_agent Decorator",id:"using-the-track_agent-decorator",level:3},{value:"Agent Tracking Data",id:"agent-tracking-data",level:3},{value:"Agent Configuration",id:"agent-configuration",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:3},{value:"Multi-Agent Systems",id:"multi-agent-systems",level:2},{value:"Visualizing Agent Interactions",id:"visualizing-agent-interactions",level:3},{value:"Agent State Tracking",id:"agent-state-tracking",level:2},{value:"Agent Metrics",id:"agent-metrics",level:2},{value:"Framework Integrations",id:"framework-integrations",level:2},{value:"LangChain Agents",id:"langchain-agents",level:3},{value:"CrewAI",id:"crewai",level:3},{value:"AutoGen",id:"autogen",level:3},{value:"Custom Agent Implementation",id:"custom-agent-implementation",level:2},{value:"Agent Communication",id:"agent-communication",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Name Agents Meaningfully",id:"1-name-agents-meaningfully",level:3},{value:"2. Track Agent Decisions",id:"2-track-agent-decisions",level:3},{value:"3. Handle Agent Errors",id:"3-handle-agent-errors",level:3},{value:"4. Monitor Agent Performance",id:"4-monitor-agent-performance",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"agents",children:"Agents"})}),"\n",(0,s.jsx)(n.p,{children:"AgentOps provides specialized tracking for AI agents, allowing you to monitor their lifecycle, actions, and interactions within your application."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-an-agent",children:"What is an Agent?"}),"\n",(0,s.jsxs)(n.p,{children:["In AgentOps, an ",(0,s.jsx)(n.strong,{children:"Agent"})," is an autonomous entity that can:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Make decisions based on input"}),"\n",(0,s.jsx)(n.li,{children:"Execute actions and use tools"}),"\n",(0,s.jsx)(n.li,{children:"Interact with language models"}),"\n",(0,s.jsx)(n.li,{children:"Maintain state across interactions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tracking-agents",children:"Tracking Agents"}),"\n",(0,s.jsx)(n.h3,{id:"using-the-track_agent-decorator",children:"Using the @track_agent Decorator"}),"\n",(0,s.jsxs)(n.p,{children:["The simplest way to track an agent is with the ",(0,s.jsx)(n.code,{children:"@track_agent"})," decorator:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agentops import track_agent\n\n@track_agent(name="ResearchAgent")\nclass ResearchAgent:\n    def __init__(self, model="gpt-4"):\n        self.model = model\n        self.findings = []\n\n    def research(self, topic: str) -> str:\n        """Research a topic and return findings."""\n        # Your research logic here\n        return findings\n\n    def summarize(self) -> str:\n        """Summarize all findings."""\n        return summary\n'})}),"\n",(0,s.jsx)(n.h3,{id:"agent-tracking-data",children:"Agent Tracking Data"}),"\n",(0,s.jsxs)(n.p,{children:["When you use ",(0,s.jsx)(n.code,{children:"@track_agent"}),", AgentOps captures:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'{\n    "agent_id": "agent-abc123",\n    "name": "ResearchAgent",\n    "agent_class": "ResearchAgent",\n    "session_id": "sess-xyz789",\n    "created_at": "2024-01-15T10:30:00Z",\n    "events": [\n        # All events triggered by this agent\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"agent-configuration",children:"Agent Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'@track_agent(name="CustomerSupportAgent")\nclass CustomerSupportAgent:\n    pass\n'})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'@track_agent(\n    name="AnalysisAgent",\n    agent_id="custom-agent-id",  # Custom ID\n)\nclass AnalysisAgent:\n    def __init__(self, config: dict):\n        self.config = config\n'})}),"\n",(0,s.jsx)(n.h2,{id:"multi-agent-systems",children:"Multi-Agent Systems"}),"\n",(0,s.jsx)(n.p,{children:"AgentOps excels at tracking complex multi-agent architectures:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agentops import track_agent\n\n@track_agent(name="Coordinator")\nclass CoordinatorAgent:\n    def __init__(self):\n        self.workers = []\n\n    def add_worker(self, worker):\n        self.workers.append(worker)\n\n    def delegate(self, task):\n        # Delegate to appropriate worker\n        worker = self.select_worker(task)\n        return worker.execute(task)\n\n@track_agent(name="ResearchWorker")\nclass ResearchWorker:\n    def execute(self, task):\n        # Research execution\n        pass\n\n@track_agent(name="WritingWorker")\nclass WritingWorker:\n    def execute(self, task):\n        # Writing execution\n        pass\n\n# Usage\ncoordinator = CoordinatorAgent()\ncoordinator.add_worker(ResearchWorker())\ncoordinator.add_worker(WritingWorker())\n\n# All agent interactions are tracked\nresult = coordinator.delegate("Write a report on AI trends")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"visualizing-agent-interactions",children:"Visualizing Agent Interactions"}),"\n",(0,s.jsx)(n.p,{children:"In the AgentOps dashboard, multi-agent interactions are visualized:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Session Timeline                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502  Coordinator \u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n\u2502                   \u2502                                  \u2502\n\u2502  ResearchWorker \u2500\u2500\u253c\u2500\u2500\u25b6 [LLM] \u2500\u2500\u25b6 [Tool] \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n\u2502                   \u2502                                  \u2502\n\u2502  WritingWorker \u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 [LLM] \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n\u2502                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h2,{id:"agent-state-tracking",children:"Agent State Tracking"}),"\n",(0,s.jsx)(n.p,{children:"Track agent state changes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agentops import track_agent, Event\n\n@track_agent(name="StatefulAgent")\nclass StatefulAgent:\n    def __init__(self):\n        self.state = "idle"\n        self._record_state_change("initialized")\n\n    def _record_state_change(self, new_state):\n        old_state = self.state\n        self.state = new_state\n        agentops.record(Event(\n            event_type="agent_state_change",\n            params={\n                "agent": self.__class__.__name__,\n                "old_state": old_state,\n                "new_state": new_state\n            }\n        ))\n\n    def start_task(self, task):\n        self._record_state_change("working")\n        # Process task\n        self._record_state_change("idle")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"agent-metrics",children:"Agent Metrics"}),"\n",(0,s.jsx)(n.p,{children:"AgentOps automatically calculates agent-specific metrics:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Metric"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Invocations"})}),(0,s.jsx)(n.td,{children:"Number of times agent was called"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"LLM Calls"})}),(0,s.jsx)(n.td,{children:"LLM API calls made by agent"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Tool Usage"})}),(0,s.jsx)(n.td,{children:"Tools/functions invoked"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Latency"})}),(0,s.jsx)(n.td,{children:"Average execution time"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Cost"})}),(0,s.jsx)(n.td,{children:"Total LLM costs attributed to agent"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Error Rate"})}),(0,s.jsx)(n.td,{children:"Percentage of failed executions"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"framework-integrations",children:"Framework Integrations"}),"\n",(0,s.jsx)(n.h3,{id:"langchain-agents",children:"LangChain Agents"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom langchain.agents import initialize_agent, Tool\nfrom langchain_openai import ChatOpenAI\n\nagentops.init(api_key="your-api-key")\n\n# LangChain agents are automatically tracked\ntools = [\n    Tool(\n        name="Search",\n        func=search_function,\n        description="Search for information"\n    )\n]\n\nllm = ChatOpenAI(model="gpt-4")\nagent = initialize_agent(tools, llm, agent="zero-shot-react-description")\n\n# Agent execution is tracked\nresult = agent.run("Find the latest news about AI")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"crewai",children:"CrewAI"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom crewai import Agent, Task, Crew\n\nagentops.init(api_key="your-api-key")\n\n# CrewAI agents are automatically tracked\nresearcher = Agent(\n    role="Researcher",\n    goal="Research topics thoroughly",\n    backstory="Expert researcher with attention to detail"\n)\n\nwriter = Agent(\n    role="Writer",\n    goal="Write compelling content",\n    backstory="Professional writer with years of experience"\n)\n\ncrew = Crew(\n    agents=[researcher, writer],\n    tasks=[...],\n    verbose=True\n)\n\n# All crew interactions tracked\nresult = crew.kickoff()\n'})}),"\n",(0,s.jsx)(n.h3,{id:"autogen",children:"AutoGen"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom autogen import AssistantAgent, UserProxyAgent\n\nagentops.init(api_key="your-api-key")\n\n# AutoGen agents are automatically tracked\nassistant = AssistantAgent(\n    name="assistant",\n    llm_config={"model": "gpt-4"}\n)\n\nuser_proxy = UserProxyAgent(\n    name="user_proxy",\n    human_input_mode="NEVER"\n)\n\n# Conversations are tracked\nuser_proxy.initiate_chat(\n    assistant,\n    message="Write a Python function to sort a list"\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"custom-agent-implementation",children:"Custom Agent Implementation"}),"\n",(0,s.jsx)(n.p,{children:"For custom agent frameworks, implement manual tracking:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom agentops import track_agent, Event\n\n@track_agent(name="CustomAgent")\nclass CustomAgent:\n    def __init__(self):\n        self.agent_id = None  # Set by decorator\n\n    def think(self, input_data):\n        """Agent reasoning step."""\n        agentops.record(Event(\n            event_type="agent_think",\n            params={\n                "agent_id": self.agent_id,\n                "input_length": len(str(input_data))\n            }\n        ))\n        # Reasoning logic\n        return decision\n\n    def act(self, decision):\n        """Agent action step."""\n        agentops.record(Event(\n            event_type="agent_act",\n            params={\n                "agent_id": self.agent_id,\n                "action": decision.action,\n                "confidence": decision.confidence\n            }\n        ))\n        # Action execution\n        return result\n\n    def run(self, task):\n        """Main agent loop."""\n        while not self.is_complete(task):\n            decision = self.think(task.current_state)\n            result = self.act(decision)\n            task.update(result)\n        return task.result\n'})}),"\n",(0,s.jsx)(n.h2,{id:"agent-communication",children:"Agent Communication"}),"\n",(0,s.jsx)(n.p,{children:"Track inter-agent communication:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agentops import Event\n\ndef send_message(sender, receiver, message):\n    """Send a message between agents."""\n    agentops.record(Event(\n        event_type="agent_message",\n        params={\n            "sender": sender.name,\n            "receiver": receiver.name,\n            "message_type": message.type,\n            "message_length": len(message.content)\n        }\n    ))\n    receiver.receive(message)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-name-agents-meaningfully",children:"1. Name Agents Meaningfully"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Good - descriptive names\n@track_agent(name="CustomerSupportAgent")\n@track_agent(name="DataAnalysisAgent")\n@track_agent(name="ContentGenerationAgent")\n\n# Bad - generic names\n@track_agent(name="Agent1")\n@track_agent(name="MyAgent")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-track-agent-decisions",children:"2. Track Agent Decisions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'@track_agent(name="DecisionAgent")\nclass DecisionAgent:\n    def decide(self, options):\n        selected = self._evaluate(options)\n\n        agentops.record(Event(\n            event_type="agent_decision",\n            params={\n                "options": [o.name for o in options],\n                "selected": selected.name,\n                "reasoning": self.last_reasoning\n            }\n        ))\n\n        return selected\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-handle-agent-errors",children:"3. Handle Agent Errors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'@track_agent(name="RobustAgent")\nclass RobustAgent:\n    def execute(self, task):\n        try:\n            result = self._process(task)\n            return result\n        except Exception as e:\n            agentops.record(ErrorEvent(\n                error_type=type(e).__name__,\n                details=str(e),\n                params={"agent": self.__class__.__name__, "task": task.id}\n            ))\n            raise\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-monitor-agent-performance",children:"4. Monitor Agent Performance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import time\n\n@track_agent(name="PerformanceAgent")\nclass PerformanceAgent:\n    def run(self, task):\n        start = time.time()\n\n        result = self._execute(task)\n\n        duration = time.time() - start\n        agentops.record(Event(\n            event_type="agent_performance",\n            params={\n                "agent": self.__class__.__name__,\n                "task_type": task.type,\n                "duration_seconds": duration,\n                "success": result.success\n            }\n        ))\n\n        return result\n'})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/core-concepts/tools",children:"Tools"})," - Track tool usage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/advanced/multi-agent",children:"Multi-Agent"})," - Advanced multi-agent patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/features/debugging",children:"Debugging"})," - Debug agent issues"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>o});var a=t(6540);const s={},r=a.createContext(s);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);