"use strict";(globalThis.webpackChunkagentops_docs=globalThis.webpackChunkagentops_docs||[]).push([[8189],{8453(e,n,s){s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},8984(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"features/debugging","title":"Debugging","description":"Debug your AI agents with powerful debugging tools","source":"@site/docs/features/debugging.md","sourceDirName":"features","slug":"/features/debugging","permalink":"/agentops-ai/docs/features/debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/agentops/agentops-docs/tree/main/docs/features/debugging.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Debugging","description":"Debug your AI agents with powerful debugging tools"},"sidebar":"docsSidebar","previous":{"title":"Analytics","permalink":"/agentops-ai/docs/features/analytics"},"next":{"title":"Session Replay","permalink":"/agentops-ai/docs/features/replay"}}');var r=s(4848),i=s(8453);const o={sidebar_position:4,title:"Debugging",description:"Debug your AI agents with powerful debugging tools"},a="Debugging",l={},d=[{value:"Session Replay",id:"session-replay",level:2},{value:"Replay Any Session",id:"replay-any-session",level:3},{value:"Navigation Controls",id:"navigation-controls",level:3},{value:"Error Analysis",id:"error-analysis",level:2},{value:"Error Dashboard",id:"error-dashboard",level:3},{value:"Error Details",id:"error-details",level:3},{value:"Debugging Techniques",id:"debugging-techniques",level:2},{value:"1. Compare Sessions",id:"1-compare-sessions",level:3},{value:"2. Trace LLM Interactions",id:"2-trace-llm-interactions",level:3},{value:"3. Add Debug Events",id:"3-add-debug-events",level:3},{value:"4. Conditional Debugging",id:"4-conditional-debugging",level:3},{value:"Common Issues",id:"common-issues",level:2},{value:"Rate Limit Errors",id:"rate-limit-errors",level:3},{value:"Timeout Errors",id:"timeout-errors",level:3},{value:"Unexpected Responses",id:"unexpected-responses",level:3},{value:"Debug Tools",id:"debug-tools",level:2},{value:"Local Debug Mode",id:"local-debug-mode",level:3},{value:"Event Inspector",id:"event-inspector",level:3},{value:"Session Dump",id:"session-dump",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Tag Debug Sessions",id:"1-tag-debug-sessions",level:3},{value:"2. Include Context in Errors",id:"2-include-context-in-errors",level:3},{value:"3. Use Structured Error Types",id:"3-use-structured-error-types",level:3},{value:"4. Clean Up Debug Code",id:"4-clean-up-debug-code",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"debugging",children:"Debugging"})}),"\n",(0,r.jsx)(n.p,{children:"AgentOps provides powerful debugging tools to help you identify and fix issues in your AI agents quickly and efficiently."}),"\n",(0,r.jsx)(n.h2,{id:"session-replay",children:"Session Replay"}),"\n",(0,r.jsx)(n.h3,{id:"replay-any-session",children:"Replay Any Session"}),"\n",(0,r.jsx)(n.p,{children:"Step through any session to understand exactly what happened:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Session Replay: sess_abc123                               [\u25b6 Play]    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                          \u2502\n\u2502  Timeline \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2502\n\u2502                           \u2191                                              \u2502\n\u2502                        Current                                           \u2502\n\u2502                                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Event 3 of 8: LLM Call                                           \u2502  \u2502\n\u2502  \u2502                                                                    \u2502  \u2502\n\u2502  \u2502  Model: gpt-4                                                     \u2502  \u2502\n\u2502  \u2502  Time: 10:30:01.250                                               \u2502  \u2502\n\u2502  \u2502                                                                    \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502\n\u2502  \u2502  \u2502 Input:                                                       \u2502 \u2502  \u2502\n\u2502  \u2502  \u2502 [System] You are a helpful customer support agent.          \u2502 \u2502  \u2502\n\u2502  \u2502  \u2502 [User] I need help with my order #12345                     \u2502 \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502\n\u2502  \u2502                                                                    \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502\n\u2502  \u2502  \u2502 Output:                                                      \u2502 \u2502  \u2502\n\u2502  \u2502  \u2502 I'll help you with order #12345. Let me look that up...    \u2502 \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502\n\u2502  \u2502                                                                    \u2502  \u2502\n\u2502  \u2502  Tokens: 45 \u2192 28  |  Cost: $0.0219  |  Latency: 1.2s            \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                          \u2502\n\u2502  [\u25c0 Prev]  [Step]  [\u25b6 Next]  [\u23ed End]                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"navigation-controls",children:"Navigation Controls"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Play"}),": Auto-advance through events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Step"}),": Move one event at a time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Jump"}),": Go to specific event or time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search"}),": Find events by content"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"error-analysis",children:"Error Analysis"}),"\n",(0,r.jsx)(n.h3,{id:"error-dashboard",children:"Error Dashboard"}),"\n",(0,r.jsx)(n.p,{children:"View all errors in one place:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Errors (Last 24 Hours)                                    [42 Total]  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                          \u2502\n\u2502  Error Distribution                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 RateLimitError      \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  18 (43%)        \u2502 \u2502\n\u2502  \u2502 TimeoutError        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588               12 (29%)        \u2502 \u2502\n\u2502  \u2502 ValidationError     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                       8 (19%)        \u2502 \u2502\n\u2502  \u2502 APIError            \u2588\u2588\u2588\u2588                           4 (9%)         \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                          \u2502\n\u2502  Recent Errors                                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u25cf RateLimitError   | sess_abc123 | 5 min ago  | gpt-4            \u2502 \u2502\n\u2502  \u2502 \u25cf TimeoutError     | sess_def456 | 12 min ago | claude-3         \u2502 \u2502\n\u2502  \u2502 \u25cf ValidationError  | sess_ghi789 | 25 min ago | gpt-4            \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"error-details",children:"Error Details"}),"\n",(0,r.jsx)(n.p,{children:"Click any error to see full details:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'{\n    "error_type": "RateLimitError",\n    "message": "Rate limit exceeded for gpt-4",\n    "timestamp": "2024-01-15T10:30:00Z",\n    "session_id": "sess_abc123",\n    "stack_trace": """\n        Traceback (most recent call last):\n          File "agent.py", line 45, in process\n            response = client.chat.completions.create(...)\n          File "openai/_client.py", line 230, in create\n            raise RateLimitError("Rate limit exceeded")\n        openai.RateLimitError: Rate limit exceeded\n    """,\n    "context": {\n        "model": "gpt-4",\n        "request_count": 150,\n        "window": "1 minute"\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"debugging-techniques",children:"Debugging Techniques"}),"\n",(0,r.jsx)(n.h3,{id:"1-compare-sessions",children:"1. Compare Sessions"}),"\n",(0,r.jsx)(n.p,{children:"Compare successful vs failed sessions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import Client\n\nclient = Client(api_key="your-api-key")\n\n# Get a failed session\nfailed_session = client.get_session("sess_failed123")\n\n# Get a similar successful session\nsuccess_session = client.get_session("sess_success456")\n\n# Compare events\nprint("Failed session events:")\nfor event in failed_session.events:\n    print(f"  {event.event_type}: {event.params}")\n\nprint("\\nSuccessful session events:")\nfor event in success_session.events:\n    print(f"  {event.event_type}: {event.params}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-trace-llm-interactions",children:"2. Trace LLM Interactions"}),"\n",(0,r.jsx)(n.p,{children:"Examine the full prompt and response:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# In your code, add detailed logging\nagentops.record(Event(\n    event_type="debug_prompt",\n    params={\n        "full_prompt": messages,\n        "model": "gpt-4",\n        "temperature": 0.7,\n        "max_tokens": 1000\n    }\n))\n\nresponse = client.chat.completions.create(\n    model="gpt-4",\n    messages=messages\n)\n\nagentops.record(Event(\n    event_type="debug_response",\n    params={\n        "full_response": response.choices[0].message.content,\n        "finish_reason": response.choices[0].finish_reason,\n        "usage": response.usage.dict()\n    }\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-add-debug-events",children:"3. Add Debug Events"}),"\n",(0,r.jsx)(n.p,{children:"Insert debug checkpoints in your code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def process_request(request):\n    # Debug checkpoint 1\n    agentops.record(Event(\n        event_type="debug_checkpoint",\n        params={\n            "checkpoint": "start",\n            "request_id": request.id,\n            "input_size": len(request.data)\n        }\n    ))\n\n    # Process step 1\n    result1 = step_one(request)\n\n    # Debug checkpoint 2\n    agentops.record(Event(\n        event_type="debug_checkpoint",\n        params={\n            "checkpoint": "after_step_one",\n            "result1_valid": result1 is not None\n        }\n    ))\n\n    # Process step 2\n    result2 = step_two(result1)\n\n    # Debug checkpoint 3\n    agentops.record(Event(\n        event_type="debug_checkpoint",\n        params={\n            "checkpoint": "complete",\n            "success": True\n        }\n    ))\n\n    return result2\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-conditional-debugging",children:"4. Conditional Debugging"}),"\n",(0,r.jsx)(n.p,{children:"Enable verbose logging for specific conditions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import agentops\n\nDEBUG_MODE = os.getenv("DEBUG_MODE", "false").lower() == "true"\n\ndef debug_log(event_type, params):\n    """Only log if in debug mode."""\n    if DEBUG_MODE:\n        agentops.record(Event(\n            event_type=f"debug_{event_type}",\n            params=params\n        ))\n\n# Usage\ndebug_log("state", {"current_step": 5, "memory_usage": "256MB"})\n'})}),"\n",(0,r.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"rate-limit-errors",children:"Rate Limit Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Solution: Add retry logic\nfrom tenacity import retry, stop_after_attempt, wait_exponential\n\n@retry(\n    stop=stop_after_attempt(3),\n    wait=wait_exponential(multiplier=1, min=4, max=60)\n)\ndef call_llm_with_retry(messages):\n    try:\n        return client.chat.completions.create(\n            model="gpt-4",\n            messages=messages\n        )\n    except RateLimitError as e:\n        agentops.record(ErrorEvent(\n            error_type="RateLimitError",\n            details=str(e),\n            params={"retry": "scheduled"}\n        ))\n        raise\n'})}),"\n",(0,r.jsx)(n.h3,{id:"timeout-errors",children:"Timeout Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Solution: Configure appropriate timeouts\nclient = OpenAI(\n    timeout=60.0,  # Increase timeout\n    max_retries=3\n)\n\n# Log timeout configuration\nagentops.record(Event(\n    event_type="config",\n    params={"timeout": 60, "max_retries": 3}\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"unexpected-responses",children:"Unexpected Responses"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Solution: Validate and log responses\nresponse = client.chat.completions.create(...)\n\nif response.choices[0].finish_reason == "length":\n    agentops.record(Event(\n        event_type="warning",\n        params={\n            "issue": "response_truncated",\n            "max_tokens": max_tokens,\n            "actual_tokens": response.usage.completion_tokens\n        }\n    ))\n\nif not validate_response(response):\n    agentops.record(ErrorEvent(\n        error_type="ValidationError",\n        details="Response failed validation",\n        params={"response": response.choices[0].message.content[:500]}\n    ))\n'})}),"\n",(0,r.jsx)(n.h2,{id:"debug-tools",children:"Debug Tools"}),"\n",(0,r.jsx)(n.h3,{id:"local-debug-mode",children:"Local Debug Mode"}),"\n",(0,r.jsx)(n.p,{children:"Enable enhanced local logging:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import agentops\nimport logging\n\n# Enable debug logging\nlogging.basicConfig(level=logging.DEBUG)\nagentops_logger = logging.getLogger("agentops")\nagentops_logger.setLevel(logging.DEBUG)\n\n# Initialize with debug settings\nagentops.init(\n    api_key="your-api-key",\n    default_tags=["debug"]\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"event-inspector",children:"Event Inspector"}),"\n",(0,r.jsx)(n.p,{children:"Inspect events before they're sent:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def event_inspector(event):\n    """Inspect events for debugging."""\n    print(f"Event: {event.event_type}")\n    print(f"Params: {json.dumps(event.params, indent=2)}")\n    return event\n\n# Apply inspector\nagentops.add_event_hook(event_inspector)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"session-dump",children:"Session Dump"}),"\n",(0,r.jsx)(n.p,{children:"Export full session for offline analysis:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import Client\n\nclient = Client(api_key="your-api-key")\n\n# Get full session data\nsession = client.get_session("sess_abc123", include_events=True)\n\n# Export for analysis\nwith open("debug_session.json", "w") as f:\n    json.dump({\n        "session": session.to_dict(),\n        "events": [e.to_dict() for e in session.events]\n    }, f, indent=2)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-tag-debug-sessions",children:"1. Tag Debug Sessions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'if os.getenv("DEBUG"):\n    session = agentops.start_session(tags=["debug", "investigation"])\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-include-context-in-errors",children:"2. Include Context in Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'try:\n    result = process(data)\nexcept Exception as e:\n    agentops.record(ErrorEvent(\n        error_type=type(e).__name__,\n        details=str(e),\n        params={\n            "input_data": str(data)[:1000],  # First 1000 chars\n            "state": current_state,\n            "step": current_step\n        }\n    ))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-use-structured-error-types",children:"3. Use Structured Error Types"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Define custom error events\nclass DebugError:\n    VALIDATION = "validation_error"\n    TIMEOUT = "timeout_error"\n    RATE_LIMIT = "rate_limit_error"\n    UNEXPECTED = "unexpected_error"\n\n# Use consistently\nagentops.record(ErrorEvent(\n    error_type=DebugError.VALIDATION,\n    details="Input validation failed",\n    params={"field": "email", "value": input_value}\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-clean-up-debug-code",children:"4. Clean Up Debug Code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Use environment-based debugging\nif os.getenv("AGENTOPS_DEBUG"):\n    # Verbose debug logging\n    agentops.record(Event(\n        event_type="debug_verbose",\n        params={"state": full_state_dump}\n    ))\nelse:\n    # Production logging\n    agentops.record(Event(\n        event_type="state_change",\n        params={"state": state_name}\n    ))\n'})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/features/replay",children:"Replay"})," - Session replay in detail"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/features/logging",children:"Logging"})," - Comprehensive logging"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/guides/troubleshooting",children:"Troubleshooting"})," - Common issues and solutions"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);