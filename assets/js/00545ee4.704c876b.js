"use strict";(globalThis.webpackChunkagentops_docs=globalThis.webpackChunkagentops_docs||[]).push([[7897],{1697(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"core-concepts/events","title":"Events","description":"Understanding events and how to record custom events in AgentOps","source":"@site/docs/core-concepts/events.md","sourceDirName":"core-concepts","slug":"/core-concepts/events","permalink":"/agentops-ai/docs/core-concepts/events","draft":false,"unlisted":false,"editUrl":"https://github.com/agentops/agentops-docs/tree/main/docs/core-concepts/events.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Events","description":"Understanding events and how to record custom events in AgentOps"},"sidebar":"docsSidebar","previous":{"title":"Sessions","permalink":"/agentops-ai/docs/core-concepts/sessions"},"next":{"title":"Agents","permalink":"/agentops-ai/docs/core-concepts/agents"}}');var r=t(4848),a=t(8453);const o={sidebar_position:4,title:"Events",description:"Understanding events and how to record custom events in AgentOps"},i="Events",c={},l=[{value:"Event Types",id:"event-types",level:2},{value:"LLM Events",id:"llm-events",level:2},{value:"Captured Data",id:"captured-data",level:3},{value:"Streaming Support",id:"streaming-support",level:3},{value:"Tool Events",id:"tool-events",level:2},{value:"Tool Event Data",id:"tool-event-data",level:3},{value:"Action Events",id:"action-events",level:2},{value:"Error Events",id:"error-events",level:2},{value:"Error Event Data",id:"error-event-data",level:3},{value:"Custom Events",id:"custom-events",level:2},{value:"Event Builder Pattern",id:"event-builder-pattern",level:3},{value:"Recording Events",id:"recording-events",level:2},{value:"Direct Recording",id:"direct-recording",level:3},{value:"Session-Specific Recording",id:"session-specific-recording",level:3},{value:"Batch Recording",id:"batch-recording",level:3},{value:"Event Timing",id:"event-timing",level:2},{value:"Using Context Manager",id:"using-context-manager",level:3},{value:"Event Results",id:"event-results",level:2},{value:"Event Relationships",id:"event-relationships",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Descriptive Event Types",id:"1-use-descriptive-event-types",level:3},{value:"2. Include Relevant Context",id:"2-include-relevant-context",level:3},{value:"3. Avoid Sensitive Data",id:"3-avoid-sensitive-data",level:3},{value:"4. Use Consistent Naming",id:"4-use-consistent-naming",level:3},{value:"Querying Events",id:"querying-events",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"events",children:"Events"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=1200&h=300&fit=crop",alt:"Events"})}),"\n",(0,r.jsx)(n.p,{children:"Events are the atomic units of data in AgentOps. Every action, decision, API call, and interaction is captured as an event, providing a complete timeline of your agent's execution."}),"\n",(0,r.jsx)(n.h2,{id:"event-types",children:"Event Types"}),"\n",(0,r.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph EventTypes["Event Types"]\n        direction TB\n        LLM[LLM Events]\n        Tool[Tool Events]\n        Action[Action Events]\n        Error[Error Events]\n        Custom[Custom Events]\n    end\n\n    subgraph AutoCapture["Auto-Captured"]\n        LLM\n        Error\n    end\n\n    subgraph Decorators["With Decorators"]\n        Tool\n        Action\n    end\n\n    subgraph Manual["Manual"]\n        Custom\n    end\n\n    style LLM fill:#0066FF,stroke:#3399FF,color:#fff\n    style Error fill:#EF4444,stroke:#DC2626,color:#fff\n    style Tool fill:#22C55E,stroke:#16A34A,color:#fff\n    style Action fill:#F59E0B,stroke:#D97706,color:#fff\n    style Custom fill:#8B5CF6,stroke:#7C3AED,color:#fff'}),"\n",(0,r.jsx)(n.p,{children:"AgentOps captures several types of events:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Auto-captured"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"LLM Events"})}),(0,r.jsx)(n.td,{children:"Language model API calls"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Tool Events"})}),(0,r.jsx)(n.td,{children:"Function/tool invocations"}),(0,r.jsx)(n.td,{children:"With decorator"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Action Events"})}),(0,r.jsx)(n.td,{children:"Agent decisions and actions"}),(0,r.jsx)(n.td,{children:"With decorator"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Error Events"})}),(0,r.jsx)(n.td,{children:"Exceptions and failures"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Custom Events"})}),(0,r.jsx)(n.td,{children:"Your domain-specific events"}),(0,r.jsx)(n.td,{children:"Manual"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"llm-events",children:"LLM Events"}),"\n",(0,r.jsx)(n.p,{children:"LLM events are automatically captured when you use supported providers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom openai import OpenAI\n\nagentops.init(api_key="your-api-key")\nclient = OpenAI()\n\n# This call is automatically captured as an LLM event\nresponse = client.chat.completions.create(\n    model="gpt-4",\n    messages=[{"role": "user", "content": "Hello!"}]\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"captured-data",children:"Captured Data"}),"\n",(0,r.jsx)(n.p,{children:"LLM events include:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'{\n    "event_type": "llm",\n    "timestamp": "2024-01-15T10:30:00Z",\n    "params": {\n        "provider": "openai",\n        "model": "gpt-4",\n        "prompt": [\n            {"role": "user", "content": "Hello!"}\n        ],\n        "completion": "Hello! How can I help you today?",\n        "prompt_tokens": 10,\n        "completion_tokens": 15,\n        "total_tokens": 25,\n        "cost": 0.00125,\n        "latency_ms": 1250,\n        "finish_reason": "stop"\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"streaming-support",children:"Streaming Support"}),"\n",(0,r.jsx)(n.p,{children:"AgentOps handles streaming responses:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Streaming is automatically tracked\nstream = client.chat.completions.create(\n    model="gpt-4",\n    messages=[{"role": "user", "content": "Tell me a story"}],\n    stream=True\n)\n\nfor chunk in stream:\n    print(chunk.choices[0].delta.content or "", end="")\n\n# Event recorded after stream completes\n'})}),"\n",(0,r.jsx)(n.h2,{id:"tool-events",children:"Tool Events"}),"\n",(0,r.jsxs)(n.p,{children:["Track function/tool usage with the ",(0,r.jsx)(n.code,{children:"@tool"})," decorator:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import tool\n\n@tool(name="web_search")\ndef search_web(query: str) -> list:\n    """Search the web for information."""\n    results = perform_search(query)\n    return results\n\n@tool(name="calculator")\ndef calculate(expression: str) -> float:\n    """Evaluate a mathematical expression."""\n    return eval(expression)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tool-event-data",children:"Tool Event Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'{\n    "event_type": "tool",\n    "timestamp": "2024-01-15T10:30:05Z",\n    "params": {\n        "tool_name": "web_search",\n        "input": {"query": "latest AI news"},\n        "output": ["Article 1", "Article 2"],\n        "latency_ms": 500,\n        "success": True\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"action-events",children:"Action Events"}),"\n",(0,r.jsx)(n.p,{children:"Record agent decisions and actions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import ActionEvent\n\n# Record a decision\nagentops.record(ActionEvent(\n    action_type="route_selection",\n    params={\n        "options": ["search", "calculate", "respond"],\n        "selected": "search",\n        "reasoning": "User asked for current information"\n    }\n))\n'})}),"\n",(0,r.jsx)(n.h2,{id:"error-events",children:"Error Events"}),"\n",(0,r.jsx)(n.p,{children:"Errors are automatically captured, but you can also record them explicitly:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from agentops import ErrorEvent\n\ntry:\n    result = risky_operation()\nexcept Exception as e:\n    agentops.record(ErrorEvent(\n        error_type=type(e).__name__,\n        details=str(e),\n        stack_trace=traceback.format_exc()\n    ))\n    raise\n"})}),"\n",(0,r.jsx)(n.h3,{id:"error-event-data",children:"Error Event Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'{\n    "event_type": "error",\n    "timestamp": "2024-01-15T10:30:10Z",\n    "params": {\n        "error_type": "ValueError",\n        "details": "Invalid input format",\n        "stack_trace": "Traceback (most recent call last)...",\n        "handled": True\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"custom-events",children:"Custom Events"}),"\n",(0,r.jsx)(n.p,{children:"Record domain-specific events for your application:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import Event\n\n# User interaction event\nagentops.record(Event(\n    event_type="user_feedback",\n    params={\n        "rating": 5,\n        "comment": "Very helpful!",\n        "session_duration": 120\n    }\n))\n\n# Business logic event\nagentops.record(Event(\n    event_type="order_processed",\n    params={\n        "order_id": "ORD-12345",\n        "amount": 99.99,\n        "items": 3,\n        "status": "completed"\n    }\n))\n\n# Performance event\nagentops.record(Event(\n    event_type="cache_hit",\n    params={\n        "key": "user_preferences_123",\n        "hit": True,\n        "latency_ms": 5\n    }\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"event-builder-pattern",children:"Event Builder Pattern"}),"\n",(0,r.jsx)(n.p,{children:"For complex events, use the builder pattern:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import Event\n\nevent = Event(event_type="analysis_complete")\nevent.params["input_size"] = len(data)\nevent.params["output_size"] = len(results)\nevent.params["model"] = "gpt-4"\nevent.params["confidence"] = 0.95\nevent.result = "success"\n\nagentops.record(event)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"recording-events",children:"Recording Events"}),"\n",(0,r.jsx)(n.h3,{id:"direct-recording",children:"Direct Recording"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Record to the current session\nagentops.record(Event(\n    event_type="my_event",\n    params={"key": "value"}\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"session-specific-recording",children:"Session-Specific Recording"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Record to a specific session\nsession = agentops.start_session(tags=["example"])\nsession.record(Event(\n    event_type="my_event",\n    params={"key": "value"}\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"batch-recording",children:"Batch Recording"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'events = [\n    Event(event_type="step_1", params={"status": "done"}),\n    Event(event_type="step_2", params={"status": "done"}),\n    Event(event_type="step_3", params={"status": "done"}),\n]\n\nfor event in events:\n    agentops.record(event)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"event-timing",children:"Event Timing"}),"\n",(0,r.jsx)(n.p,{children:"Events are automatically timestamped, but you can also measure duration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import time\nfrom agentops import Event\n\nstart = time.time()\n\n# Perform operation\nresult = expensive_operation()\n\nduration_ms = (time.time() - start) * 1000\n\nagentops.record(Event(\n    event_type="expensive_operation",\n    params={\n        "result_size": len(result),\n        "duration_ms": duration_ms\n    }\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"using-context-manager",children:"Using Context Manager"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from agentops import timed_event\n\nwith timed_event("data_processing") as event:\n    # Your code here\n    result = process_data(input_data)\n    event.params["output_size"] = len(result)\n\n# Event automatically records duration\n'})}),"\n",(0,r.jsx)(n.h2,{id:"event-results",children:"Event Results"}),"\n",(0,r.jsx)(n.p,{children:"Mark event outcomes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'event = Event(event_type="validation")\nevent.params["input"] = user_input\n\nif validate(user_input):\n    event.result = "success"\n    event.params["valid"] = True\nelse:\n    event.result = "fail"\n    event.params["valid"] = False\n    event.params["errors"] = validation_errors\n\nagentops.record(event)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"event-relationships",children:"Event Relationships"}),"\n",(0,r.jsx)(n.p,{children:"Link related events:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Parent event\nparent_event = Event(\n    event_type="workflow_start",\n    params={"workflow_id": "wf-123"}\n)\nagentops.record(parent_event)\n\n# Child events\nfor step in steps:\n    child_event = Event(\n        event_type="workflow_step",\n        params={\n            "workflow_id": "wf-123",\n            "step": step.name,\n            "status": step.status\n        }\n    )\n    agentops.record(child_event)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-use-descriptive-event-types",children:"1. Use Descriptive Event Types"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Good - clear and searchable\nEvent(event_type="customer_query_classified")\nEvent(event_type="payment_processed")\nEvent(event_type="document_parsed")\n\n# Bad - vague\nEvent(event_type="event1")\nEvent(event_type="done")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-include-relevant-context",children:"2. Include Relevant Context"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Good - useful for debugging and analysis\nagentops.record(Event(\n    event_type="api_call",\n    params={\n        "endpoint": "/v1/users",\n        "method": "GET",\n        "status_code": 200,\n        "response_time_ms": 150,\n        "user_id": "user-123"\n    }\n))\n\n# Bad - missing context\nagentops.record(Event(\n    event_type="api_call",\n    params={"success": True}\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-avoid-sensitive-data",children:"3. Avoid Sensitive Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Good - no PII\nagentops.record(Event(\n    event_type="user_action",\n    params={\n        "user_id": hash(user.email),  # Hashed\n        "action": "login",\n        "success": True\n    }\n))\n\n# Bad - contains PII\nagentops.record(Event(\n    event_type="user_action",\n    params={\n        "email": user.email,  # PII!\n        "password": password  # Never log passwords!\n    }\n))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-use-consistent-naming",children:"4. Use Consistent Naming"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Good - consistent snake_case\nEvent(event_type="order_created")\nEvent(event_type="order_updated")\nEvent(event_type="order_completed")\n\n# Bad - inconsistent naming\nEvent(event_type="OrderCreated")\nEvent(event_type="order-updated")\nEvent(event_type="orderComplete")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"querying-events",children:"Querying Events"}),"\n",(0,r.jsx)(n.p,{children:"In the dashboard, you can:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Filter by type"})," - View specific event types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search params"})," - Find events with specific parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Time range"})," - Filter by timestamp"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session"})," - View events for a specific session"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/agents",children:"Agents"})," - Track agent lifecycles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/tools",children:"Tools"})," - Instrument function calls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/features/analytics",children:"Analytics"})," - Analyze event data"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>i});var s=t(6540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);