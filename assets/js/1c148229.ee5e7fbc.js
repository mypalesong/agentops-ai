"use strict";(globalThis.webpackChunkagentops_docs=globalThis.webpackChunkagentops_docs||[]).push([[3253],{1511(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"core-concepts/tools","title":"Tools","description":"Track and instrument tool usage in your AI agents","source":"@site/docs/core-concepts/tools.md","sourceDirName":"core-concepts","slug":"/core-concepts/tools","permalink":"/agentops-ai/docs/core-concepts/tools","draft":false,"unlisted":false,"editUrl":"https://github.com/agentops/agentops-docs/tree/main/docs/core-concepts/tools.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Tools","description":"Track and instrument tool usage in your AI agents"},"sidebar":"docsSidebar","previous":{"title":"Agents","permalink":"/agentops-ai/docs/core-concepts/agents"},"next":{"title":"Monitoring","permalink":"/agentops-ai/docs/features/monitoring"}}');var a=t(4848),s=t(8453);const r={sidebar_position:6,title:"Tools",description:"Track and instrument tool usage in your AI agents"},i="Tools",l={},c=[{value:"What are Tools?",id:"what-are-tools",level:2},{value:"Tracking Tools",id:"tracking-tools",level:2},{value:"Using the @tool Decorator",id:"using-the-tool-decorator",level:3},{value:"Tool Event Data",id:"tool-event-data",level:3},{value:"Tool Configuration",id:"tool-configuration",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:3},{value:"Async Tool Support",id:"async-tool-support",level:2},{value:"Tool Categories",id:"tool-categories",level:2},{value:"Information Retrieval Tools",id:"information-retrieval-tools",level:3},{value:"Action Tools",id:"action-tools",level:3},{value:"Computation Tools",id:"computation-tools",level:3},{value:"Tool Error Handling",id:"tool-error-handling",level:2},{value:"Tool Chaining",id:"tool-chaining",level:2},{value:"Tool with LLM Integration",id:"tool-with-llm-integration",level:2},{value:"Tool Metrics",id:"tool-metrics",level:2},{value:"Framework Integration",id:"framework-integration",level:2},{value:"LangChain Tools",id:"langchain-tools",level:3},{value:"OpenAI Function Calling",id:"openai-function-calling",level:3},{value:"Custom Tool Tracking",id:"custom-tool-tracking",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Name Tools Clearly",id:"1-name-tools-clearly",level:3},{value:"2. Document Tool Behavior",id:"2-document-tool-behavior",level:3},{value:"3. Handle Errors Gracefully",id:"3-handle-errors-gracefully",level:3},{value:"4. Validate Inputs",id:"4-validate-inputs",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"tools",children:"Tools"})}),"\n",(0,a.jsx)(n.p,{children:"Tools (also called functions) extend your agent's capabilities by allowing it to interact with external systems, perform calculations, search for information, and more. AgentOps provides comprehensive tracking for tool usage."}),"\n",(0,a.jsx)(n.h2,{id:"what-are-tools",children:"What are Tools?"}),"\n",(0,a.jsxs)(n.p,{children:["In the context of AI agents, ",(0,a.jsx)(n.strong,{children:"Tools"})," are:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Functions that agents can invoke"}),"\n",(0,a.jsx)(n.li,{children:"Capabilities beyond text generation"}),"\n",(0,a.jsx)(n.li,{children:"Interfaces to external services"}),"\n",(0,a.jsx)(n.li,{children:"Ways to interact with the real world"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"tracking-tools",children:"Tracking Tools"}),"\n",(0,a.jsx)(n.h3,{id:"using-the-tool-decorator",children:"Using the @tool Decorator"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"@tool"})," decorator automatically tracks function invocations:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from agentops import tool\n\n@tool(name="web_search")\ndef search_web(query: str) -> list[dict]:\n    """Search the web for information.\n\n    Args:\n        query: The search query\n\n    Returns:\n        List of search results\n    """\n    results = search_api.search(query)\n    return results\n\n@tool(name="calculator")\ndef calculate(expression: str) -> float:\n    """Evaluate a mathematical expression.\n\n    Args:\n        expression: Math expression to evaluate\n\n    Returns:\n        The calculated result\n    """\n    return eval(expression)\n\n@tool(name="send_email")\ndef send_email(to: str, subject: str, body: str) -> bool:\n    """Send an email.\n\n    Args:\n        to: Recipient email address\n        subject: Email subject\n        body: Email body content\n\n    Returns:\n        True if sent successfully\n    """\n    return email_service.send(to, subject, body)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"tool-event-data",children:"Tool Event Data"}),"\n",(0,a.jsx)(n.p,{children:"When a tool is invoked, AgentOps records:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'{\n    "event_type": "tool",\n    "timestamp": "2024-01-15T10:30:05Z",\n    "params": {\n        "tool_name": "web_search",\n        "input": {\n            "query": "latest AI developments 2024"\n        },\n        "output": [\n            {"title": "AI News", "url": "..."},\n            {"title": "Tech Updates", "url": "..."}\n        ],\n        "latency_ms": 450,\n        "success": True\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-configuration",children:"Tool Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="my_tool")\ndef my_function():\n    pass\n'})}),"\n",(0,a.jsx)(n.h3,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(\n    name="database_query",\n    tags=["database", "read"],\n)\ndef query_database(sql: str) -> list:\n    """Execute a database query."""\n    return db.execute(sql)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"async-tool-support",children:"Async Tool Support"}),"\n",(0,a.jsx)(n.p,{children:"AgentOps supports async tools:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from agentops import tool\n\n@tool(name="async_fetch")\nasync def fetch_data(url: str) -> dict:\n    """Fetch data from a URL asynchronously."""\n    async with aiohttp.ClientSession() as session:\n        async with session.get(url) as response:\n            return await response.json()\n\n# Usage\ndata = await fetch_data("https://api.example.com/data")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-categories",children:"Tool Categories"}),"\n",(0,a.jsx)(n.p,{children:"Organize tools by category for better dashboard organization:"}),"\n",(0,a.jsx)(n.h3,{id:"information-retrieval-tools",children:"Information Retrieval Tools"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="web_search")\ndef web_search(query: str) -> list:\n    """Search the web."""\n    pass\n\n@tool(name="database_lookup")\ndef database_lookup(table: str, filters: dict) -> list:\n    """Query a database."""\n    pass\n\n@tool(name="api_fetch")\ndef api_fetch(endpoint: str) -> dict:\n    """Fetch from an API."""\n    pass\n'})}),"\n",(0,a.jsx)(n.h3,{id:"action-tools",children:"Action Tools"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="send_notification")\ndef send_notification(user_id: str, message: str) -> bool:\n    """Send a notification to a user."""\n    pass\n\n@tool(name="create_ticket")\ndef create_ticket(title: str, description: str) -> str:\n    """Create a support ticket."""\n    pass\n\n@tool(name="schedule_meeting")\ndef schedule_meeting(attendees: list, time: str) -> dict:\n    """Schedule a meeting."""\n    pass\n'})}),"\n",(0,a.jsx)(n.h3,{id:"computation-tools",children:"Computation Tools"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="calculate")\ndef calculate(expression: str) -> float:\n    """Perform mathematical calculations."""\n    pass\n\n@tool(name="analyze_data")\ndef analyze_data(data: list) -> dict:\n    """Analyze a dataset."""\n    pass\n\n@tool(name="generate_report")\ndef generate_report(data: dict, template: str) -> str:\n    """Generate a report from data."""\n    pass\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-error-handling",children:"Tool Error Handling"}),"\n",(0,a.jsx)(n.p,{children:"Handle and track tool errors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from agentops import tool, ErrorEvent\n\n@tool(name="risky_operation")\ndef risky_operation(input_data: dict) -> dict:\n    """Perform a risky operation with proper error handling."""\n    try:\n        result = perform_operation(input_data)\n        return {"success": True, "data": result}\n    except ValidationError as e:\n        agentops.record(ErrorEvent(\n            error_type="ValidationError",\n            details=str(e),\n            params={"tool": "risky_operation", "input": input_data}\n        ))\n        return {"success": False, "error": str(e)}\n    except ExternalServiceError as e:\n        agentops.record(ErrorEvent(\n            error_type="ExternalServiceError",\n            details=str(e),\n            params={"tool": "risky_operation", "service": e.service}\n        ))\n        raise\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-chaining",children:"Tool Chaining"}),"\n",(0,a.jsx)(n.p,{children:"Track tools that call other tools:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="research_topic")\ndef research_topic(topic: str) -> dict:\n    """Research a topic using multiple tools."""\n\n    # Search the web\n    search_results = web_search(topic)\n\n    # Fetch detailed information\n    details = []\n    for result in search_results[:3]:\n        data = api_fetch(result["url"])\n        details.append(data)\n\n    # Analyze the information\n    analysis = analyze_data(details)\n\n    return {\n        "topic": topic,\n        "sources": len(search_results),\n        "analysis": analysis\n    }\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-with-llm-integration",children:"Tool with LLM Integration"}),"\n",(0,a.jsx)(n.p,{children:"Combine tools with LLM calls:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom openai import OpenAI\n\nagentops.init(api_key="your-api-key")\nclient = OpenAI()\n\n# Define tools for the LLM\ntools = [\n    {\n        "type": "function",\n        "function": {\n            "name": "get_weather",\n            "description": "Get current weather for a location",\n            "parameters": {\n                "type": "object",\n                "properties": {\n                    "location": {"type": "string"}\n                },\n                "required": ["location"]\n            }\n        }\n    }\n]\n\n@tool(name="get_weather")\ndef get_weather(location: str) -> dict:\n    """Get weather for a location."""\n    return weather_api.get(location)\n\n# LLM with tool calling\nresponse = client.chat.completions.create(\n    model="gpt-4",\n    messages=[{"role": "user", "content": "What\'s the weather in Tokyo?"}],\n    tools=tools,\n    tool_choice="auto"\n)\n\n# Handle tool calls\nif response.choices[0].message.tool_calls:\n    for tool_call in response.choices[0].message.tool_calls:\n        if tool_call.function.name == "get_weather":\n            args = json.loads(tool_call.function.arguments)\n            result = get_weather(**args)  # Tracked by @tool\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tool-metrics",children:"Tool Metrics"}),"\n",(0,a.jsx)(n.p,{children:"AgentOps tracks tool-specific metrics:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Metric"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Invocation Count"})}),(0,a.jsx)(n.td,{children:"How often each tool is called"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Success Rate"})}),(0,a.jsx)(n.td,{children:"Percentage of successful calls"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Average Latency"})}),(0,a.jsx)(n.td,{children:"Mean execution time"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Error Rate"})}),(0,a.jsx)(n.td,{children:"Percentage of failed calls"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Input/Output Size"})}),(0,a.jsx)(n.td,{children:"Data volume processed"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"framework-integration",children:"Framework Integration"}),"\n",(0,a.jsx)(n.h3,{id:"langchain-tools",children:"LangChain Tools"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom langchain.tools import Tool\nfrom langchain.agents import initialize_agent\n\nagentops.init(api_key="your-api-key")\n\n# LangChain tools are automatically tracked\ntools = [\n    Tool(\n        name="Search",\n        func=search_function,\n        description="Search for information"\n    ),\n    Tool(\n        name="Calculator",\n        func=calculate,\n        description="Perform calculations"\n    )\n]\n\nagent = initialize_agent(tools, llm, agent="zero-shot-react-description")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"openai-function-calling",children:"OpenAI Function Calling"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom openai import OpenAI\n\nagentops.init(api_key="your-api-key")\n\n# Function calling is automatically tracked\nresponse = client.chat.completions.create(\n    model="gpt-4",\n    messages=messages,\n    functions=[\n        {\n            "name": "get_current_weather",\n            "description": "Get the current weather",\n            "parameters": {...}\n        }\n    ]\n)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"custom-tool-tracking",children:"Custom Tool Tracking"}),"\n",(0,a.jsx)(n.p,{children:"For non-decorated functions, track manually:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import agentops\nfrom agentops import Event\nimport time\n\ndef external_tool(params):\n    """A tool from an external library."""\n    start = time.time()\n\n    # Record tool start\n    agentops.record(Event(\n        event_type="tool_start",\n        params={"tool": "external_tool", "input": params}\n    ))\n\n    try:\n        result = external_library.call(params)\n\n        # Record tool success\n        agentops.record(Event(\n            event_type="tool_end",\n            params={\n                "tool": "external_tool",\n                "output": result,\n                "latency_ms": (time.time() - start) * 1000,\n                "success": True\n            }\n        ))\n\n        return result\n    except Exception as e:\n        # Record tool failure\n        agentops.record(Event(\n            event_type="tool_end",\n            params={\n                "tool": "external_tool",\n                "error": str(e),\n                "latency_ms": (time.time() - start) * 1000,\n                "success": False\n            }\n        ))\n        raise\n'})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"1-name-tools-clearly",children:"1. Name Tools Clearly"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Good - describes what the tool does\n@tool(name="search_product_catalog")\n@tool(name="send_slack_notification")\n@tool(name="validate_email_address")\n\n# Bad - unclear\n@tool(name="do_thing")\n@tool(name="func1")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-document-tool-behavior",children:"2. Document Tool Behavior"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="complex_operation")\ndef complex_operation(data: dict, options: dict = None) -> dict:\n    """Perform a complex data operation.\n\n    This tool processes input data through multiple stages:\n    1. Validation\n    2. Transformation\n    3. Analysis\n\n    Args:\n        data: The input data to process\n        options: Optional configuration (default: None)\n            - verbose: Enable detailed logging\n            - timeout: Max execution time in seconds\n\n    Returns:\n        dict containing:\n            - result: The processed data\n            - metadata: Processing statistics\n            - warnings: Any warnings generated\n\n    Raises:\n        ValidationError: If input data is invalid\n        TimeoutError: If processing exceeds timeout\n    """\n    pass\n'})}),"\n",(0,a.jsx)(n.h3,{id:"3-handle-errors-gracefully",children:"3. Handle Errors Gracefully"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="external_api_call")\ndef external_api_call(endpoint: str, params: dict) -> dict:\n    """Call an external API with retry logic."""\n    max_retries = 3\n\n    for attempt in range(max_retries):\n        try:\n            response = requests.post(endpoint, json=params, timeout=30)\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.Timeout:\n            if attempt == max_retries - 1:\n                raise\n            time.sleep(2 ** attempt)  # Exponential backoff\n        except requests.exceptions.HTTPError as e:\n            if e.response.status_code >= 500:\n                if attempt == max_retries - 1:\n                    raise\n                time.sleep(2 ** attempt)\n            else:\n                raise\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-validate-inputs",children:"4. Validate Inputs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@tool(name="process_data")\ndef process_data(data: list, threshold: float = 0.5) -> dict:\n    """Process data with input validation."""\n    # Validate inputs\n    if not isinstance(data, list):\n        raise TypeError("data must be a list")\n    if not 0 <= threshold <= 1:\n        raise ValueError("threshold must be between 0 and 1")\n    if len(data) == 0:\n        return {"result": [], "count": 0}\n\n    # Process data\n    result = [item for item in data if item.score >= threshold]\n    return {"result": result, "count": len(result)}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/features/monitoring",children:"Monitoring"})," - Monitor tool performance"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/features/debugging",children:"Debugging"})," - Debug tool issues"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/guides/best-practices",children:"Best Practices"})," - Tool design patterns"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>i});var o=t(6540);const a={},s=o.createContext(a);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);